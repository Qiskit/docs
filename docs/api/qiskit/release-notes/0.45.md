---
title: Qiskit 0.45 release notes
description: Changes made in Qiskit 0.45
in_page_toc_max_heading_level: 2
---

<span id="release-notes" />

<span id="id1" />

# Qiskit 0.45 release notes

This page contains the release notes for Qiskit 0.45, the first release after the legacy “elements” structure was completely removed. For all release notes, including those stretching back through the old “meta-package” structure of Qiskit, see [Release notes](/api/qiskit/release-notes). For a table of meta-package versions, see the [Qiskit 0.44 release notes](/api/qiskit/release-notes/0.44).

<span id="relnotes-0-45-0" />

<span id="id2" />

## 0.45.3

<span id="relnotes-0-45-3-stable-0-45-prelude" />

<span id="id11" />

### Prelude

Qiskit 0.45.3 is a point release with no code changes other than to raise an [`ImportError`](https://docs.python.org/3/library/exceptions.html#ImportError "(in Python v3.12)") if it detects it has been installed in an invalid environment with Qiskit >=1.0.

Please read [our migration guide about the new packaging](https://qisk.it/1-0-packaging-migration) for help on errors, preparing for Qiskit 1.0, and more detailed background information.

<Admonition title="Note" type="note">
  Qiskit 1.0 is due to release approximately two weeks after Qiskit 0.45.3, on the 15th of February 2024, and might not yet be available when you read this message. This change is being made proactively.
</Admonition>

The packaging structure of Qiskit is changing in Qiskit 1.0, and unfortunately the changed requirements cannot be fully communicated to `pip`, especially if `pip install --upgrade` commands are run after the environment has been initially configured. All versions of Qiskit prior to 1.0 (including this one) have an installation conflict with Qiskit 1.0 that `pip` will not resolve.

If `import qiskit` raises an [`ImportError`](https://docs.python.org/3/library/exceptions.html#ImportError "(in Python v3.12)") for you, your environment is in an invalid state, and versions of Qiskit 0.45/0.46 and 1.0 are both reachable, which will result in subtly broken code. You will need to create a new virtual environment, and ensure that *only* one of the two versions are installed. In particular, if you are intending to install Qiskit 1.0, you must have no packages that depend on `qiskit-terra` installed; these packages are incompatible with Qiskit 1.0 and must be updated. If you are intending to install Qiskit 0.45 or 0.46, you must ensure that you have nothing attempting to install `qiskit>=1.0`.

If you develop a library based on Qiskit and you still have a dependency on `qiskit-terra`, you should urgently release a new package that depends only on `qiskit`. Since version 0.44, the `qiskit` package contained only the `qiskit-terra` compiler core (the component that is now simply called “Qiskit”), so if your minimum version is `0.44`, you can safely switch a `qiskit-terra>=0.44` dependency to `qiskit>=0.44` with no change in what will be installed. For more detail and recommendations for testing and preparation, see the [section for developers of the migration guide](https://qisk.it/1-0-packaging-migration#for-developers).

<span id="relnotes-0-45-2-stable-0-45" />

<span id="id12" />

## 0.45.2

<span id="relnotes-0-45-2-stable-0-45-prelude" />

<span id="id13" />

### Prelude

Qiskit 0.45.2 is a small patch release, fixing several bugs found in the 0.45 release series.

<span id="relnotes-0-45-2-stable-0-45-bug-fixes" />

<span id="id14" />

### Bug Fixes

*   Calling [`copy()`](/api/qiskit/qiskit.circuit.QuantumCircuit#copy "qiskit.circuit.QuantumCircuit.copy") or [`copy_empty_like()`](/api/qiskit/qiskit.circuit.QuantumCircuit#copy_empty_like "qiskit.circuit.QuantumCircuit.copy_empty_like") on a `BlueprintCircuit` will now correctly propagate the [`global_phase`](/api/qiskit/qiskit.circuit.QuantumCircuit#global_phase "qiskit.circuit.QuantumCircuit.global_phase") to the copy. Previously, the global phase would always be zero after the copy.

*   QPY (using [`qpy.dump()`](/api/qiskit/qpy#qiskit.qpy.dump "qiskit.qpy.dump") and [`qpy.load()`](/api/qiskit/qpy#qiskit.qpy.load "qiskit.qpy.load")) will now correctly serialize and deserialize quantum circuits with Clifford operators ([`Clifford`](/api/qiskit/qiskit.quantum_info.Clifford "qiskit.quantum_info.Clifford")).

*   Fixed an issue in the `mpl` circuit drawer where the text would print beyond the end of the box for a [`SwitchCaseOp`](/api/qiskit/qiskit.circuit.SwitchCaseOp "qiskit.circuit.SwitchCaseOp") if the default case was empty.

*   The qubit-argument broadcasting of [`QuantumCircuit.delay()`](/api/qiskit/qiskit.circuit.QuantumCircuit#delay "qiskit.circuit.QuantumCircuit.delay") now correctly produces individual [`Delay`](/api/qiskit/qiskit.circuit.Delay "qiskit.circuit.Delay") instructions for each qubit, as intended. Previously, when given certain iterables (such as [`set`](https://docs.python.org/3/library/stdtypes.html#set "(in Python v3.12)")s), it would instead silently produce an invalid circuit that might fail in unusual locations.

*   Fixed a bug that results in an error when a user tries to load .calibration data of a gate in [`Target`](/api/qiskit/qiskit.transpiler.Target "qiskit.transpiler.Target") in a particular situation. This occurs when the backend reports only partial calibration data, for example referencing a waveform pulse in a command definition but not including that waveform pulse in the pulse library. In this situation, the Qiskit pulse object cannot be built, resulting in a failure to build the pulse schedule for the calibration. Now when calibration data is incomplete the [`Target`](/api/qiskit/qiskit.transpiler.Target "qiskit.transpiler.Target") treats it as equivalent to no calibration being reported at all and does not raise an exception.

*   Fixed an issue with the [`Optimize1qGatesDecomposition`](/api/qiskit/qiskit.transpiler.passes.Optimize1qGatesDecomposition "qiskit.transpiler.passes.Optimize1qGatesDecomposition") transpiler pass where it would potentially resynthesize a single ideal (meaning the error rate is `0.0`) gate which was present in the [`Target`](/api/qiskit/qiskit.transpiler.Target "qiskit.transpiler.Target"). This is now fixed so the pass [`Optimize1qGatesDecomposition`](/api/qiskit/qiskit.transpiler.passes.Optimize1qGatesDecomposition "qiskit.transpiler.passes.Optimize1qGatesDecomposition") will defer to the circuit’s gate if the error rate (which includes number of gates) are the same. Fixed [#10568](https://github.com/Qiskit/qiskit/issues/10568)

*   Fixed an issue with the `OptimizeSwapBeforeMeasure` pass where it would incorrectly optimize circuits involving swap and measure instructions. This commit fixes the bug by changing [`DAGCircuit.successors()`](/api/qiskit/qiskit.dagcircuit.DAGCircuit#successors "qiskit.dagcircuit.DAGCircuit.successors") to [`DAGCircuit.descendants()`](/api/qiskit/qiskit.dagcircuit.DAGCircuit#descendants "qiskit.dagcircuit.DAGCircuit.descendants"). Also, added a couple of extra tests to ensure that the bug is fixed. For example:

    ```python
    from qiskit import QuantumCircuit
    from qiskit.transpiler.passes import OptimizeSwapBeforeMeasure
    pass_ = OptimizeSwapBeforeMeasure()
    qc = QuantumCircuit(2, 1)
    qc.swap(0, 1)
    qc.measure(0, 0)
    qc.measure(0, 0)
    print(qc.draw())
    print(pass_(qc).draw())
    ```

    would previously print:

    ```python
            ┌─┐┌─┐
    q_0: ─X─┤M├┤M├
          │ └╥┘└╥┘
    q_1: ─X──╫──╫─
             ║  ║
    c: 1/════╩══╩═
             0  0
         ┌─┐
    q_0: ┤M├───
         └╥┘┌─┐
    q_1: ─╫─┤M├
          ║ └╥┘
    c: 1/═╩══╩═
          0  0
    ```

    and now the second ciruit is correctly optimized to:

    ```python
    q_0: ──────
         ┌─┐┌─┐
    q_1: ┤M├┤M├
         └╥┘└╥┘
    c: 1/═╩══╩═
          0  0
    ```

*   Fix a bug in the [`StabilizerState`](/api/qiskit/qiskit.quantum_info.StabilizerState "qiskit.quantum_info.StabilizerState") string representation.

<span id="relnotes-0-45-1-stable-0-45" />

<span id="id15" />

## 0.45.1

<span id="relnotes-0-45-1-stable-0-45-prelude" />

<span id="id16" />

### Prelude

Qiskit Terra 0.45.1 is a small patch release, fixing several bugs found in the 0.45 release series. It is also the first release to have official support for Python 3.12. The 0.45.1 release supports Python 3.8, 3.9, 3.10, 3.11, and 3.12.

<span id="relnotes-0-45-1-stable-0-45-new-features" />

<span id="id17" />

### New Features

*   Added support for using Qiskit with Python 3.12. As of this release Qiskit supports running with Python versions 3.8, 3.9, 3.10, 3.11, and 3.12.

<span id="relnotes-0-45-1-stable-0-45-bug-fixes" />

<span id="id18" />

### Bug Fixes

*   [`QuantumCircuit.barrier()`](/api/qiskit/qiskit.circuit.QuantumCircuit#barrier "qiskit.circuit.QuantumCircuit.barrier") will now generate correct output when given a [`set`](https://docs.python.org/3/library/stdtypes.html#set "(in Python v3.12)") as one of its inputs. Previously, it would append an invalid operation onto the circuit, though in practice this usually would not cause observable problems. Fixed [#11208](https://github.com/Qiskit/qiskit/issues/11208)

*   The property [`Instruction.condition_bits`](/api/qiskit/qiskit.circuit.Instruction#condition_bits "qiskit.circuit.Instruction.condition_bits") will now correctly handle runtime classical expressions ([`qiskit.circuit.classical`](/api/qiskit/circuit_classical#module-qiskit.circuit.classical "qiskit.circuit.classical")).

*   Fixed the [`hash()`](https://docs.python.org/3/library/functions.html#hash "(in Python v3.12)") of Qiskit Pulse `Channel` objects (such as [`DriveChannel`](/api/qiskit/qiskit.pulse.channels.DriveChannel "qiskit.pulse.channels.DriveChannel")) in cases where the channel was transferred from one Python process to another that used a different hash seed.

*   Conditioned custom gates imported from OpenQASM 2 will now correctly retain their conditions when pickled and deep-copied. Previously, any conditional custom gate (defined by a `gate` statement in an OpenQASM 2 file) would lose its condition when copied or pickled.

*   Fixed QPY deserialization of the [`StatePreparation`](/api/qiskit/qiskit.circuit.library.StatePreparation "qiskit.circuit.library.StatePreparation") and [`Initialize`](/api/qiskit/qiskit.circuit.library.Initialize "qiskit.circuit.library.Initialize") circuit instructions with string and integer parameters (as opposed to an explicit statevector, which was already working). Fixed [#11158](https://github.com/Qiskit/qiskit/issues/11158).

*   Fixed a bug in [`SabreLayout`](/api/qiskit/qiskit.transpiler.passes.SabreLayout "qiskit.transpiler.passes.SabreLayout") where it would fail to add the register information to the [`Layout`](/api/qiskit/qiskit.transpiler.Layout "qiskit.transpiler.Layout") object used for [`TranspileLayout.initial_layout`](/api/qiskit/qiskit.transpiler.TranspileLayout#initial_layout "qiskit.transpiler.TranspileLayout.initial_layout"). This affected circuit visualization with [`QuantumCircuit.draw()`](/api/qiskit/qiskit.circuit.QuantumCircuit#draw "qiskit.circuit.QuantumCircuit.draw") and [`circuit_drawer()`](/api/qiskit/qiskit.visualization.circuit_drawer "qiskit.visualization.circuit_drawer") after transpilation which would show a virtual qubit label of the form `Qubit[QuantumRegister(6, 'q', 0)]` rather than the expected virtual qubit label using the register name (e.g. `q0`). Fixed [#11038](https://github.com/Qiskit/qiskit/issues/11038)

*   Fixed an issue with [`qpy.dump()`](/api/qiskit/qpy#qiskit.qpy.dump "qiskit.qpy.dump") which would cause the function to potentially ignore the value of `use_symengine` when serializing a [`ScheduleBlock`](/api/qiskit/qiskit.pulse.ScheduleBlock "qiskit.pulse.ScheduleBlock") object. This would result in an invalid QPY payload being generated as it would report it was using symengine for symbolic expressions but actually contain sympy serialized data.

*   Fixed a bug which caused [`UnitaryOverlap`](/api/qiskit/qiskit.circuit.library.UnitaryOverlap "qiskit.circuit.library.UnitaryOverlap") to error upon initialization if given an input circuit containing a barrier.

<span id="relnotes-0-45-0-stable-0-45" />

<span id="id19" />

## 0.45.0

<span id="relnotes-0-45-0-stable-0-45-prelude" />

<span id="id20" />

### Prelude

Qiskit 0.45.0 is the last feature release before 1.0. It prepares the ground for the API changes we are planning for our first major version release, including many removals of previously deprecated functionality as well as a series of new deprecations.

<Admonition title="Note" type="note">
  If your project depends on Qiskit, it may rely on functionality that will no longer be supported in Qiskit 1.0. For this reason, we recommend that you proactively cap your supported version to `<1.0`.
</Admonition>

Some feature highlights of Qiskit 0.45.0 are:

*   Starting in this release, all unparametrized gates in the Qiskit standard circuit library are now **singletons**. By default, these gates share a single instance in memory, so once a gate of a specific type, let’s say [`XGate`](/api/qiskit/qiskit.circuit.library.XGate "qiskit.circuit.library.XGate"), is instantiated, any subsequent instances of [`XGate`](/api/qiskit/qiskit.circuit.library.XGate "qiskit.circuit.library.XGate") will be a reference to the first one. This results in a reduced memory usage and construction overhead when using multiple gates of the same type in a circuit. To realize this feature, new base classes have been introduced: [`SingletonInstruction`](/api/qiskit/circuit_singleton#qiskit.circuit.singleton.SingletonInstruction "qiskit.circuit.singleton.SingletonInstruction") and [`SingletonGate`](/api/qiskit/circuit_singleton#qiskit.circuit.singleton.SingletonGate "qiskit.circuit.singleton.SingletonGate"). See feature notes for more details.
*   We have added a new **generic pass manager interface** that can be found in the new [`qiskit.passmanager`](/api/qiskit/passmanager#module-qiskit.passmanager "qiskit.passmanager") module. This is a generalization of the pass manager that was used to build the Qiskit transpiler, and it introduces a generic framework to enable users to create new pass managers that use different intermediate representations (IRs). The module includes a generic pass manager base class, flow controllers, and the necessary infrastructure to manage the execution of pass manager tasks. The new interface was used to rebuild the existing pass manager in the [`qiskit.transpiler`](/api/qiskit/transpiler#module-qiskit.transpiler "qiskit.transpiler") module, cleaning up technical debt in the code, and improving usability and performance. See feature and upgrade notes for more details.
*   0.45.0 allows users to better interact with the **layout permutations** performed by the transpiler. The data contained in the [`TranspileLayout`](/api/qiskit/qiskit.transpiler.TranspileLayout "qiskit.transpiler.TranspileLayout") class is now more accessible through a series of new methods and attributes. And a new [`SparsePauliOp.apply_layout()`](/api/qiskit/qiskit.quantum_info.SparsePauliOp#apply_layout "qiskit.quantum_info.SparsePauliOp.apply_layout") method allows to apply a specific layout permutation to a [`SparsePauliOp`](/api/qiskit/qiskit.quantum_info.SparsePauliOp "qiskit.quantum_info.SparsePauliOp") observable that was built for an input circuit to the transpiler. See feature notes for more details.
*   Finally, we have introduced **annotated operations** with the new [`AnnotatedOperation`](/api/qiskit/qiskit.circuit.AnnotatedOperation "qiskit.circuit.AnnotatedOperation") class, which allows to formulate complex circuit instructions as a base instruction with a set of modifiers. For example, instead of a specific operation type that implements the controlled inverse of a [`RXGate`](/api/qiskit/qiskit.circuit.library.RXGate "qiskit.circuit.library.RXGate"), we can now use an annotated [`RXGate`](/api/qiskit/qiskit.circuit.library.RXGate "qiskit.circuit.library.RXGate") with inverse and control attributes. See feature notes for more details.

<span id="relnotes-0-45-0-stable-0-45-bug-fixes" />

<span id="id21" />

### Bug Fixes

*   The maximum number of qubits to consider for matrix multiplication-based commutativity check in [`CommutationChecker`](/api/qiskit/qiskit.circuit.CommutationChecker "qiskit.circuit.CommutationChecker") is now limited to 3 by default. Fixed [#10488](https://github.com/Qiskit/qiskit-terra/issues/10488)

*   The [`GateDirection`](/api/qiskit/qiskit.transpiler.passes.GateDirection "qiskit.transpiler.passes.GateDirection") transpiler pass will now use discrete-basis translations rather than relying on a continuous [`RYGate`](/api/qiskit/qiskit.circuit.library.RYGate "qiskit.circuit.library.RYGate"), which should help make some discrete-basis-set targets slightly more reliable. In general, [`transpile()`](/api/qiskit/compiler#qiskit.compiler.transpile "qiskit.compiler.transpile") only has partial support for basis sets that do not contain a continuously-parametrised operation, and so it may not always succeed in these situations, and will almost certainly not produce optimal results.

*   Fixed [`CommutationAnalysis`](/api/qiskit/qiskit.transpiler.passes.CommutationAnalysis "qiskit.transpiler.passes.CommutationAnalysis") to group gates on a wire into sets, with each set only containing gates that pairwise commute. This prevents `CommutationCancellation` from performing unsound optimizations. See [#8020](https://github.com/Qiskit/qiskit-terra/issues/8020)

*   [`CUGate`](/api/qiskit/qiskit.circuit.library.CUGate "qiskit.circuit.library.CUGate") will now behave correctly during calls to [`QuantumCircuit.assign_parameters()`](/api/qiskit/qiskit.circuit.QuantumCircuit#assign_parameters "qiskit.circuit.QuantumCircuit.assign_parameters"). Previously, it would cause various odd errors, often some time after the initial circuit assignment. See [#7326](https://github.com/Qiskit/qiskit/issues/7326), [#7410](https://github.com/Qiskit/qiskit/issues/7410), [#9627](https://github.com/Qiskit/qiskit/issues/9627), [#10002](https://github.com/Qiskit/qiskit/issues/10002), and [#10131](https://github.com/Qiskit/qiskit/issues/10131).

*   The control-flow builder interface (the context-manager forms of [`QuantumCircuit.if_test()`](/api/qiskit/qiskit.circuit.QuantumCircuit#if_test "qiskit.circuit.QuantumCircuit.if_test"), [`while_loop()`](/api/qiskit/qiskit.circuit.QuantumCircuit#while_loop "qiskit.circuit.QuantumCircuit.while_loop"), [`for_loop()`](/api/qiskit/qiskit.circuit.QuantumCircuit#for_loop "qiskit.circuit.QuantumCircuit.for_loop") and [`switch()`](/api/qiskit/qiskit.circuit.QuantumCircuit#switch "qiskit.circuit.QuantumCircuit.switch")) will now correctly track a separate global-phase advancement within that block. You can add a global-phase advancement to an inner block by assigning to [`QuantumCircuit.global_phase`](/api/qiskit/qiskit.circuit.QuantumCircuit#global_phase "qiskit.circuit.QuantumCircuit.global_phase") within a builder scope:

    ```python
    from math import pi
    from qiskit import QuantumCircuit

    qc = QuantumCircuit(3, 3)
    qc.global_phase = pi / 2  # Set the outer circuit's global phase.

    with qc.if_test((qc.clbits[0], False)) as else_:
      # The global phase advancement in a control-flow block begins at 0,
      # because it represents how much the phase will be advanced by an
      # execution of the block.  The defined phase of the outer scope is not
      # affected by this set.
      qc.global_phase = pi
    with else_:
      # Similarly, the `else` block may induce a different global-phase
      # advancement to the `if`, so it can also be set separately.
      qc.global_phase = 1.5 * pi

    # The phase advancement caused directly by the outer scope is independent
    # of the phase advancement conditionally caused by each control-flow path.
    assert qc.global_phase == pi / 2
    ```

    The meaning of [`QuantumCircuit.global_phase`](/api/qiskit/qiskit.circuit.QuantumCircuit#global_phase "qiskit.circuit.QuantumCircuit.global_phase") is taken to be the global-phase advancement that is inherent to a single execution of the block. It is still a *global* phase advancement, in that if the block is entered, the phase of all qubits in the entire program will be advanced.

*   Fix the coloring of the `"iqx"` and `"iqx-dark"` matplotlib color schemes, which previously drew the [`RZGate`](/api/qiskit/qiskit.circuit.library.RZGate "qiskit.circuit.library.RZGate"), [`RZZGate`](/api/qiskit/qiskit.circuit.library.RZZGate "qiskit.circuit.library.RZZGate"), (multi-)controlled [`PhaseGate`](/api/qiskit/qiskit.circuit.library.PhaseGate "qiskit.circuit.library.PhaseGate")s and [`iSwapGate`](/api/qiskit/qiskit.circuit.library.iSwapGate "qiskit.circuit.library.iSwapGate") in the wrong color.

*   The hash of a [`Parameter`](/api/qiskit/qiskit.circuit.Parameter "qiskit.circuit.Parameter") is now equal to the hashes of any [`ParameterExpression`](/api/qiskit/qiskit.circuit.ParameterExpression "qiskit.circuit.ParameterExpression") that it compares equal to. Previously the hashes were different, which would cause spurious additional entries in hashmaps when [`Parameter`](/api/qiskit/qiskit.circuit.Parameter "qiskit.circuit.Parameter") and [`ParameterExpression`](/api/qiskit/qiskit.circuit.ParameterExpression "qiskit.circuit.ParameterExpression") values were mixed in the same map as it violated Python’s data model.

*   Fixed a bug in QPY serialization ([`qiskit.qpy`](/api/qiskit/qpy#module-qiskit.qpy "qiskit.qpy")) where controlled unitary gates in a circuit could result would fail to deserialize. Fixed [#10802](https://github.com/Qiskit/qiskit-terra/issues/10802).

*   Fixes the implementation of [`random_statevector()`](/api/qiskit/quantum_info#qiskit.quantum_info.random_statevector "qiskit.quantum_info.random_statevector") so that it samples from the uniform distribution.

*   The pass `NoiseAdaptiveLayout` now takes [`CouplingMap`](/api/qiskit/qiskit.transpiler.CouplingMap "qiskit.transpiler.CouplingMap") as an optional argument. This is used by the plugin to control on inconsistency between [`configuration()`](/api/qiskit/qiskit.providers.BackendV1#configuration "qiskit.providers.BackendV1.configuration") and [`properties()`](/api/qiskit/qiskit.providers.BackendV1#properties "qiskit.providers.BackendV1.properties"), like in the case of `FakeMelbourne`. Fixed [#7677](https://github.com/Qiskit/qiskit-terra/issues/7677).

*   The methods [`QuantumCircuit.copy()`](/api/qiskit/qiskit.circuit.QuantumCircuit#copy "qiskit.circuit.QuantumCircuit.copy") and [`copy_empty_like()`](/api/qiskit/qiskit.circuit.QuantumCircuit#copy_empty_like "qiskit.circuit.QuantumCircuit.copy_empty_like") will now raise an error if the `name` argument is incorrectly typed, instead of generating an invalid circuit.

*   The `"decay"` heuristic of [`SabreSwap`](/api/qiskit/qiskit.transpiler.passes.SabreSwap "qiskit.transpiler.passes.SabreSwap") and [`SabreLayout`](/api/qiskit/qiskit.transpiler.passes.SabreLayout "qiskit.transpiler.passes.SabreLayout") now tracks the depth correctly on physical qubits rather than mistakenly tracking the “depth” of swaps on virtual qubits.

*   Fixed an oversight in the [`ECRGate`](/api/qiskit/qiskit.circuit.library.ECRGate "qiskit.circuit.library.ECRGate") that prevented setting an [`ECRGate.label`](/api/qiskit/qiskit.circuit.library.ECRGate#label "qiskit.circuit.library.ECRGate.label") attribute at object construction time. All other [`Gate`](/api/qiskit/qiskit.circuit.Gate "qiskit.circuit.Gate") classes and subclasses enable setting a `label` keyword argument in the constructor.

*   Fixed an oversight in the [`Gate`](/api/qiskit/qiskit.circuit.Gate "qiskit.circuit.Gate") (and standard-library subclasses) constructor where the [`duration`](/api/qiskit/qiskit.circuit.Gate#duration "qiskit.circuit.Gate.duration") and [`unit`](/api/qiskit/qiskit.circuit.Gate#unit "qiskit.circuit.Gate.unit") attributes could not be set as keyword arguments during construction. The parent class [`Instruction`](/api/qiskit/qiskit.circuit.Instruction "qiskit.circuit.Instruction") supported setting this but [`Gate`](/api/qiskit/qiskit.circuit.Gate "qiskit.circuit.Gate") was previously not exposing this interface correctly.

*   Added support to allow `SparsePauliOp` default initialization passing an empty iterable to the static methods [`from_list()`](/api/qiskit/qiskit.quantum_info.SparsePauliOp#from_list "qiskit.quantum_info.SparsePauliOp.from_list") and [`from_sparse_list()`](/api/qiskit/qiskit.quantum_info.SparsePauliOp#from_sparse_list "qiskit.quantum_info.SparsePauliOp.from_sparse_list"). Fixed [#10159](https://github.com/Qiskit/qiskit-terra/issues/10159).

*   The use of the (deprecated) `Optimizer` class on [`AQC`](/api/qiskit/qiskit.synthesis.unitary.aqc.AQC "qiskit.synthesis.unitary.aqc.AQC") did not have a non-deprecated alternative path, which should have been introduced in Qiskit 0.44. It now accepts a callable that implements the `Minimizer` protocol, as explicitly stated in the deprecation warning. The callable can look like the following example:

    > ```python
    > from scipy.optimize import minimize
    > from qiskit.transpiler.synthesis.aqc.aqc import AQC
    >
    > optimizer = partial(minimize, args=(), method="L-BFGS-B", options={"maxiter": 200})
    > aqc = AQC(optimizer=optimizer)
    > ```

*   Fixed an issue with the [`Barrier`](/api/qiskit/qiskit.circuit.library.Barrier "qiskit.circuit.library.Barrier") class. When adding a [`Barrier`](/api/qiskit/qiskit.circuit.library.Barrier "qiskit.circuit.library.Barrier") instance to a [`QuantumCircuit`](/api/qiskit/qiskit.circuit.QuantumCircuit "qiskit.circuit.QuantumCircuit") with the [`QuantumCircuit.append()`](/api/qiskit/qiskit.circuit.QuantumCircuit#append "qiskit.circuit.QuantumCircuit.append") method previously there was no validation that the size of the barrier matched the qargs specified.

*   The `BlockCollapser` transpiler pass will now correctly handle circuits that contain more than one condition on the same classical register.

*   `BlueprintCircuit` subclasses will now behave correctly when the semi-public method `QuantumCircuit._append()` is used with the blueprint in an unbuilt state, *i.e.* the circuit will be built before attempting the append.

*   Adjusted zoom, fontsize, and margins in [`plot_state_city()`](/api/qiskit/qiskit.visualization.plot_state_city "qiskit.visualization.plot_state_city") to fit the plot better for more figure sizes. Corrected the Z-ordering behavior of bars and the zero-amplitude plane, and corrected display of negative real value bars.

<span id="relnotes-0-45-0-stable-0-45-other-notes" />

### Other Notes

*   This version of Qiskit is explicitly pinned to the Numpy 1.x series, because it includes compiled extensions that are not yet compiled against the as-yet-unreleased Numpy 2.x series. We will release a new version of Qiskit with Numpy 2.x support as soon as feasible.

    We cannot prevent your package manager from resolving to older versions of Qiskit (which do not have the same pin but are still likely to be incompatible) if you forcibly try to install Qiskit alongside Numpy 2, before we have released a compatible version.

*   Modified the behavior of the [`VF2Layout`](/api/qiskit/qiskit.transpiler.passes.VF2Layout "qiskit.transpiler.passes.VF2Layout") and [`VF2PostLayout`](/api/qiskit/qiskit.transpiler.passes.VF2PostLayout "qiskit.transpiler.passes.VF2PostLayout") transpiler passes, which would previously run their internal scoring using multithreading if the input circuits were sufficiently large. The multithreading usage has now been removed from the passes, as it was shown to cause a performance regression instead of an improvement like originally intended.

