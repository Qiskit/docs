---
title: solve_dice
description: API reference for qiskit_addon_dice_solver.solve_dice
in_page_toc_min_heading_level: 1
python_api_type: function
python_api_name: qiskit_addon_dice_solver.solve_dice
---

<span id="solve-dice" />

# solve\_dice

<Function id="qiskit_addon_dice_solver.solve_dice" isDedicatedPage={true} github="https://github.com/Qiskit/qiskit-addon-dice-solver/tree/main/qiskit_addon_dice_solver/dice_solver.py#L53-L151" signature="solve_dice(addresses, active_space_path, working_dir, spin_sq=0.0, max_davidson=100, clean_working_dir=True, mpirun_options=None)">
  Approximate the ground state given an active space and Slater determinant addresses.

  In order to leverage the multi-processing nature of this tool, the user must specify the CPU resources to use via the mpirun\_options argument.

  For example, to use 8 CPU slots in parallel in quiet mode:

  ```python
  # Run 8 parallel slots in quiet mode
  mpirun_opts = "-quiet -n 8"
  # OR
  mpirun_opts = ["-quiet", "-n", "8"]

  energy, sci_coeffs, avg_occs = solve_dice(..., mpirun_options=mpirun_opts)
  ```

  For more information on the `mpirun` command line options, refer to the [man page](https://www.open-mpi.org/doc/current/man1/mpirun.1.php).

  <Admonition title="Note" type="note">
    Only closed-shell systems are currently supported. The particle number for both spin-up and spin-down determinants is expected to be equal.
  </Admonition>

  <Admonition title="Note" type="note">
    Determinant addresses are interpreted by the `Dice` command line application as 5-byte unsigned integers; therefore, only systems of `40` or fewer orbitals are supported.
  </Admonition>

  **Parameters**

  *   **addresses** ([*tuple*](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.13)")*\[*[*Sequence*](https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence "(in Python v3.13)")*\[*[*int*](https://docs.python.org/3/library/functions.html#int "(in Python v3.13)")*],* [*Sequence*](https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence "(in Python v3.13)")*\[*[*int*](https://docs.python.org/3/library/functions.html#int "(in Python v3.13)")*]]*) – A length-2 tuple of `Sequence` containing base-10, unsigned integer representations of bitstrings. The first `Sequence` represents configurations of the alpha particles, and the second `Sequence` represents that of the beta particles.

  *   **active\_space\_path** ([*str*](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.13)")  *|*[*Path*](https://docs.python.org/3/library/pathlib.html#pathlib.Path "(in Python v3.13)")) – An absolute path to an FCI dump – a format partially defined in [Knowles and Handy 1989](https://www.sciencedirect.com/science/article/abs/pii/0010465589900337?via%3Dihub).

  *   **working\_dir** ([*str*](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.13)")  *|*[*Path*](https://docs.python.org/3/library/pathlib.html#pathlib.Path "(in Python v3.13)")) – An absolute path to a directory in which intermediate files can be written to and read from.

  *   **spin\_sq** ([*float*](https://docs.python.org/3/library/functions.html#float "(in Python v3.13)")) – Target value for the total spin squared for the ground state. If `None`, no spin will be imposed.

  *   **max\_davidson** ([*int*](https://docs.python.org/3/library/functions.html#int "(in Python v3.13)")) – The maximum number of cycles of Davidson’s method to perform.

  *   **clean\_working\_dir** ([*bool*](https://docs.python.org/3/library/functions.html#bool "(in Python v3.13)")) – A flag indicating whether to remove the intermediate files used by the `Dice` command line application. If `False`, the intermediate files will be left in a temporary directory in the `working_dir`.

  *   **mpirun\_options** ([*Sequence*](https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence "(in Python v3.13)")*\[*[*str*](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.13)")*] |* [*str*](https://docs.python.org/3/library/stdtypes.html#str "(in Python v3.13)") *| None*) –

      Options controlling the CPU resource allocation for the `Dice` command line application. These command-line options will be passed directly to the `mpirun` command line application during invocation of `Dice`. These may be formatted as a `Sequence` of strings or a single string. If a `Sequence`, the elements will be combined into a single, space-delimited string and passed to `mpirun`. If the input is a single string, it will be passed to `mpirun` as-is. If no `mpirun_options` are provided by the user, `Dice` will run on a single MPI slot. For more information on the `mpirun` command line options, refer to the [man page](https://www.open-mpi.org/doc/current/man1/mpirun.1.php).

  **Returns**

  Minimum energy from SCI calculation, SCI coefficients, and average orbital occupancy for spin-up and spin-down orbitals

  **Return type**

  [tuple](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.13)")\[[float](https://docs.python.org/3/library/functions.html#float "(in Python v3.13)"), [*ndarray*](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "(in NumPy v2.1)"), [tuple](https://docs.python.org/3/library/stdtypes.html#tuple "(in Python v3.13)")\[[*ndarray*](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "(in NumPy v2.1)"), [*ndarray*](https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray "(in NumPy v2.1)")]]
</Function>

